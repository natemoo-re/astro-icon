---
import { SPRITESHEET_NAMESPACE } from './constants';
import { normalizeProps } from './utils.ts';
import { trackSprite } from './context.ts';
export { Props } from './Props.ts';

let { name, pack, title, class: className, x, y, ...inputProps } = Astro.props;
const props = normalizeProps(inputProps);
if (pack) {
    name = `${pack}:${name}`;
}
const href = `#${SPRITESHEET_NAMESPACE}:${name}`;
trackSprite(Astro.request, name);
---

<svg {...props} class={className} astro-icon={name}>
    {title ? (<title>{title}</title>) : ''}
    <use {...{ 'xlink:href': href, width: props.width, height: props.height, x, y }}  />
</svg>
