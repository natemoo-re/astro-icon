---
import Icon, { IconProps } from "./Icon.astro";
import { icons, loadCollection } from "./standaloneCollections";
console.log(globalThis);
if (globalThis.__ASTRO_ICON_NO_STANDALONE) {
  const err = new Error("Using standalone icon with integration enabled");
  err.hint =
    "If you want to deploy your application to an SSR environment, import " +
    "'Icon' from the 'astro-icon/components' module\n\n" +
    "If you meant to use 'astro-icon/standalone', disable the integration or " +
    "set 'allowStandalone' to 'true' in the integration config";
  throw err;
}

interface Props extends Omit<IconProps, "name"> {
  name: `${string}:${string}`;
}
const [set] = Astro.props.name.split(":");

await loadCollection(set);
---

<Icon icons={icons} config={{ include: {} }} {...Astro.props} />
